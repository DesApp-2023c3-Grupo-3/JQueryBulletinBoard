!function(){"use strict";const n="1234";var e="ws://".concat("186.13.152.219",":").concat(n,"/messaging"),o=null,t={onOpen:function(n){return console.info("WebSocket Connected ".concat(n))},onMessage:function(n){return console.info("New message: ".concat(n))},onError:function(n){return console.error("ERROR: ".concat(n))}},r=function(){var n,e,o=window.location.search.substring(1).split("&");for(e=0;e<o.length;e++)if("id"===(n=o[e].split("="))[0])return void 0===n[1]||decodeURIComponent(n[1]);return!1}(),a=null;function i(n){var e;$("#loader").text("Connected to the WebSocket server."),e=r,o.send(JSON.stringify({screenId:e,message:"START_CONNECTION"}))}function c(n){var e,o,t;$("#sector_name").text("".concat((null===(e=a)||void 0===e||null===(e=e.sector)||void 0===e?void 0:e.name)||"No name")),$("#advertisings").append("\n        <div>\n            <h6>".concat(JSON.stringify(n.action),"</h6>\n            <p>").concat(JSON.stringify((null==n||null===(o=n.data)||void 0===o?void 0:o.payload)||(null==n||null===(t=n.data)||void 0===t||null===(t=t.sector)||void 0===t?void 0:t.name)),"</p>\n        </div>\n    "))}function s(n){var e=JSON.parse(n.data).data;if(null===a)return a=e.data,void function(n){$("#main").load("./templates/default.html",(function(){return c(n)}))}(e);c(e)}$(document).ready((function(){$("#loader").text("Cargando");try{t.onOpen=i,t.onMessage=s,(o=new WebSocket(e)).addEventListener("open",t.onOpen),o.addEventListener("message",t.onMessage),o.addEventListener("error",t.onError)}catch(n){console.error(JSON.stringify(n)),$("#loader").text("Error: ".concat(JSON.stringify(n)))}}))}();